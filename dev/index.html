<!DOCTYPE html>
<html>
<head>
  <title>nuCalc</title>
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.0.2/nouislider.min.css">
  <style>
    body {
			justify-content: center;
      height: 100vh;
			margin-top: 5vh;
      overflow: hidden;
			display: flex;
    }
		.text-box {
			display: block;
			margin-bottom: 21vh;
			width: 42%;
		  font-size: 21px;
		}
		#ingredients {
			width: 150px;
		}
    #slider {
      width: 21px;
			height: 84vh;
    }
    .noUi-tooltip {
      font-size: 21px;
    }
		.noUi-connect {
			background: #0151AE;
		}
  </style>
</head>
<body>
	<div id="ingredients">
		<input type="text" placeholder="batch" class="text-box">
		<input type="text" placeholder="sugar" class="text-box">
		<input type="text" placeholder="nib" class="text-box">
		<input type="text" placeholder="butter" class="text-box">
	</div>
    <div id="slider"></div>
	
  <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.0.2/nouislider.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/wnumb/1.2.0/wNumb.min.js"></script>
	<script>
    var slider = document.getElementById("slider");

    noUiSlider.create(slider, {
      orientation: "vertical",
      direction: "rtl",
      start: [4, 75],
      connect: [true, true, false],
      tooltips: [wNumb({decimals: 2}), wNumb({decimals: 1})],
      range: {
        "min": [0, 0.05],
				"65%": [5],
				"70%": [51,0.5],
        "max": [100]
      },
      pips: {
        mode: "values",
				values: [1, 2, 3, 4, 50, 75],
				density: 2.5,
				stepped: true,
      }
    });
		slider.noUiSlider.on('change', function (values, handle) {
			if (handle == 1 && values[handle] < 50) {
				slider.noUiSlider.set([values[0], 50]);
			}
			if (handle == 0 && values[handle] > 5) {
				slider.noUiSlider.set([5, values[1]]);
			}
		});
		var pips = slider.querySelectorAll('.noUi-value');
		function clickOnPip() {
				var value = Number(this.getAttribute('data-value'));
				slider.noUiSlider.set(value);
		}
		for (var i = 0; i < pips.length; i++) {
				//TODO what the docs say: For this example. Do this in CSS!
				pips[i].style.cursor = 'pointer';
				pips[i].addEventListener('click', clickOnPip);
		}	
  </script>
</body>
</html>
