<!DOCTYPE html>
<html>
<head>
  <title>noUiSlider alpha experiment</title>
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.0.2/nouislider.min.css">
  <style>
    body {
      display: flex;
      height: 100vh;
      overflow: hidden;
    }
		
		#ingredients {
			position: absolute;
			top: 50px;
		}

		.text-box {
			display: block;
			margin-bottom: 20vh;
			width: 50%;
		  font-size: 21px;
		}

    #slider-container {
      width: 42px;
			margin-left: 75%;
			margin-top: 5%;
			margin-bottom: 10vh;
      display: flex;
    }

    .noUi-handle {
      width: 50px;
      height: 50px;
    }

    .noUi-tooltip {
      font-size: 21px;
    }
		.noUi-connect {
			background: #0151AE;
		}
  </style>
</head>
<body>
  <div id="slider-container">
    <div id="slider"></div>
  </div>
	<div id="ingredients">
		<input type="text" placeholder="batch" class="text-box">
		<input type="text" placeholder="sugar" class="text-box">
		<input type="text" placeholder="nib" class="text-box">
		<input type="text" placeholder="butter" class="text-box">

	</div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.0.2/nouislider.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/wnumb/1.2.0/wNumb.min.js"></script>
	<script>
    var slider = document.getElementById("slider");

    noUiSlider.create(slider, {
      orientation: "vertical",
      direction: "rtl",
      start: [4, 75],
      connect: [true, true, false],
      tooltips: [wNumb({decimals: 2}), wNumb({decimals: 0})],
      range: {
        "min": [0],
				"65%": [5],
				"70%": [51,1],
        "max": [100]
      },
      pips: {
        mode: "values",
				values: [1, 2, 3, 4, 50, 75],
				density: 2,
      }
    });
		slider.noUiSlider.on('change', function (values, handle) {
			if (handle == 1 && values[handle] < 50) {
				slider.noUiSlider.set([values[0], 50]);
			}
			if (handle == 0 && values[handle] > 5) {
				slider.noUiSlider.set([5, values[1]]);
			}
		});
		var pips = slider.querySelectorAll('.noUi-value');
		function clickOnPip() {
				var value = Number(this.getAttribute('data-value'));
				slider.noUiSlider.set(value);
		}
		for (var i = 0; i < pips.length; i++) {
				//TODO what the docs say: For this example. Do this in CSS!
				pips[i].style.cursor = 'pointer';
				pips[i].addEventListener('click', clickOnPip);
		}	
  </script>
</body>
</html>
